<!DOCTYPE html>
<html>
    <head>
		
		<title>Smart Test By CIT</title>
		<link rel="shortcut icon" type="image/x-icon" href="img/logo.png" />
		
		<!--Import Google Icon Font-->
		<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		
		
		<!--Import materialize.css-->
		<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
		
		<link type="text/css" rel="stylesheet" href="css/coolCSS.css"/>
		<!-- CSS TIMER 1 -->
		<!--link rel="stylesheet" href="css/timerStyle.css"-->
		
		<!-- CSS TIMER 2 -->
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" />
        <link rel="stylesheet" href="css/stylesTimer2.css" />
        <link rel="stylesheet" href="css/jqueryTimer2.countdown.css" />
		
		<!--Let browser know website is optimized for mobile-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		
		<!-- FONTS -->
		<link href="http://fonts.googleapis.com/css?family=Satisfy|Pathway+Gothic+One" rel="stylesheet">
		<link href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/212141/komikax_-webfont.woff2" rel="stylesheet">
		<link href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/212141/komikax_-webfont.woff" rel="stylesheet">
		
		
		<style>
			@keyframes animatedBackground {
			from { background-position: 0 0; }
			to { background-position: 100% 0; }
			}
			body{ 
			width: 100%; 
			height: 100%; 
			background-image: url('img/back2.jpg');
			background-position: 0px 0px;
			background-repeat: repeat-x;
			
			animation: animatedBackground 15s linear infinite;
			}
			
			#question_holder h2{
			border-radius:25px; border-style: solid; font-family: 'Satisfy', 'cursive'; color: #006DF0;
			}
			#answers_holder a{
			border-radius: 25px; width: 400px; background-color: rgba(26,188,156,0.7); font-family: 'Pathway Gothic One', 'sans-serif'; font-size: 20px ;
			}
			#answers_holder span{
			font-size: 25px; font-family: 'Pathway Gothic One', 'sans-serif';
			}
		</style>
		
		
	</head>
	
    <body style="margin-top: 20px; background-color:	#38B5AE">
		
		
		<div class="container" style="">
			<div class="row">
				<div class="col s5 left" >
					<div class="row">
						<div class="chip left " id="team1_name" style="font-family: 'Pathway Gothic One', 'sans-serif'; font-size: 35px; background-color: rgba(248, 148, 6,1); color: black">
							<!--img src="img/esprit.jpg" alt="team1"-->
							Team 1 
						</div>
					</div>
					<div class="row left">
						<div class="col s12 left" id="team1_score" style="font-family: 'Satisfy', 'cursive'; font-size: 20px; ">SCORE : 2</div>
					</div>
					<!--div class="row">
						<div class="col s1"><img src="img/cup2_512x512.png" class="pulse" style="width:30px; height: 30px" /></div>
						<div class="col s1"><img src="img/cup_fill_512x512.png" class="circle pulse" style="width:30px; height: 30px" /></div>
						<div class="col s1"><img src="img/cup_empty_512x512.png" class="circle pulse" style="width:30px; height: 30px" /></div>
						<div class="col s1"><img src="img/cup_book_512x512.png" class="pulse" style="width:30px; height: 30px" /></div>
					</div-->
					
				</div>
				<!--div class="col s2 center" >
					<div id="countdown" style="margin-left:-60px"></div>					
					<p id="note"></p>
				</div-->
				<div class="col s5 right">
					
					<div class="row">
						<div class="chip  right" id="team2_name" style="font-family: 'Pathway Gothic One', 'sans-serif'; font-size: 35px; background-color: rgba(242, 38, 19,1)">
							<!--img src="img/logo.png" alt="team2"-->
							Team 2 
						</div>
					</div>
					<div class="row right">
						<div class="col s12 right" id="team2_score" style="font-family: 'Satisfy', 'cursive'; font-size: 20px; ">SCORE : 5</div>
					</div>
					
				</div>
			</div>
			<div id="question_answers_holder">
				<div class="row center" style="position: relative;" id="question_holder">
					<div class="center bigEntrance" >
						<img src="img/question_mark_512x512.png" style="width:60px; height: 60px; position: absolute; top: 0px; left: 130px" />
						<h2 class="col s8 offset-s2 center z-depth-1"><span style="color:white; padding: 50px">Q : Question here ?</span></h2>
					</div>
				</div>
				
				<div id="answers_holder">
					<div class="row center">
						<a class="waves-effect waves-light btn hide" id="r1">  <span class="left" >1 &nbsp - &nbsp </span> Response number 1</a>
					</div>
					<div class="row center">
						<a class="waves-effect waves-light btn hide" id="r2" >  <span class="left" >2 &nbsp - &nbsp </span> Response number 2</a>
					</div>
					<div class="row center">
						<a class="waves-effect waves-light btn hide" id="r3" >  <span class="left" >3 &nbsp - &nbsp </span> Response numberrrr 3</a>
					</div>
				</div>
			</div>
			
			<!-- TIMER 1 -->
			<!--div class="m-wrap tx">
				<div class="o-watch-wrap">
				<div class="watch-ui">
				<div class="o-ring">
				<div class="o-timer-wrap">
				<div class="ring-wrap">
				<svg class="c-t" width="200" height="200">
				<circle class="c-c" cx="90" cy="100" r="97.5" transform="rotate(-90, 95, 95)"/>
				</svg>
				</div>
				<div class="o-timer">
				<span class="t-time"></span>
				</div>
				</div>
				<div class="t-options">
				<span class="t-options-time">
				<span class="btn b-dec o-opt-btn b-revc glyphicon glyphicon-play"></span>
				<span class="o-opt-btn display"></span>
				<span class="btn b-inc o-opt-btn glyphicon glyphicon-play"></span>
				</span>
				</div>
				</div>
				
				</div>
				</div>
			</div-->
			<!-- END TIMER 1 -->
			
		</div>
		
		
		
		<!--Import jQuery before materialize.js-->
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="js/materialize.min.js"></script>
		
		<!-- JS TIMER 1 -->
		<!--script src="js/timerScript.js"></script-->
		
		<!-- JS TIMER 2 -->
		<script src="js/jqueryTimer2.countdown.js"></script>
		<script src="js/scriptTimer2.js"></script>
		<script>
			$(document).ready(function(){
				
				
				setInterval(function hello() {
					$("#r1").removeClass("hide");
					$("#r1").addClass("slideRight");
				}, 1000);
				
				setInterval(function hello() {
					$("#r2").removeClass("hide");
					$("#r2").addClass("slideRight");
				}, 2000);
				
				setInterval(function hello() {
					$("#r3").removeClass("hide");
					$("#r3").addClass("slideRight");
				}, 3000);
				
				$(".btn").click(function(){
					$(this).removeClass("slideRight");
					$(this).addClass("pulse");
					$(this).addClass("z-depth-5");
				});
			});
		</script>
		
		
		
		<script>
			var gen = 1;
			
			// call the function repeatedly in 5 seconds of interval
			// this call returns an id that can be used to stop the calls
			var id = setInterval(function(){
				
				// function body...
				
				//alert( "making an ajax request...(" + gen + ")" ); // here you call your webservice
				$.get('http://localhost/test2.php', function(data) {
					var obj = jQuery.parseJSON(data);
					if(obj.score == 5){
						$("#r1").css("background-color", "red");
						$("#r3").css("background-color", "green");
						//clearInterval( id );
						}else if(obj.score == 6){
						//$("#r1").removeClass("slideRight");
						$("#r1").addClass("pulse");
						$("#r1").addClass("z-depth-5");
						
						$("#r2").removeClass("pulse");
						$("#r2").removeClass("z-depth-5");
						$("#r3").removeClass("pulse");
						$("#r3").removeClass("z-depth-5");
						}else if(obj.score == 7){
						//$("#r2").removeClass("slideRight");
						$("#r2").addClass("pulse");
						$("#r2").addClass("z-depth-5");
						
						$("#r1").removeClass("pulse");
						$("#r1").removeClass("z-depth-5");
						$("#r3").removeClass("pulse");
						$("#r3").removeClass("z-depth-5");
						}else if(obj.score == 8){
						//$("#r3").removeClass("slideRight");
						$("#r3").addClass("pulse");
						$("#r3").addClass("z-depth-5");
						
						$("#r2").removeClass("pulse");
						$("#r2").removeClass("z-depth-5");
						$("#r1").removeClass("pulse");
						$("#r1").removeClass("z-depth-5");
						}else{
						$("#r1").css("background-color", "rgba(26,188,156,0.7)");
						$("#r3").css("background-color", "rgba(26,188,156,0.7)");
						
						$("#r1").removeClass("pulse");
						$("#r1").removeClass("z-depth-5");
						$("#r2").removeClass("pulse");
						$("#r2").removeClass("z-depth-5");
						$("#r3").removeClass("pulse");
						$("#r3").removeClass("z-depth-5");
					}
				});
				gen++;
				
				// just want to stop it, but you wont need this.
				/*if ( gen == 10 ) {
					clearInterval( id );
				}*/
				
			}, 1000 ); // 5000 miliseconds == 5 seconds
		</script>
		
		
		
		
		
		<script>
			var gen = 1;
			
			var id = setInterval(function(){
				
				$.get('http://localhost/SmartTestWebservices/getTeams.php', function(data) {
					var obj = jQuery.parseJSON(data);
					$.each(obj, function(i, item) {
						//alert(item.id);
						if(item.number == 1){
							$('#team1_score').html('SCORE : ' + item.score);
							$('#team1_name').html(item.name);
							}else{
							$('#team2_score').html('SCORE : ' + item.score);
							$('#team2_name').html(item.name);
						}
						
					})
				});
				gen++;
			}, 1000 ); // 5000 miliseconds == 5 seconds
		</script>
		
		<script>
			$.get('http://localhost/SmartTestWebservices/getDisplayedQuestion.php', function(data) {
				var obj = jQuery.parseJSON(data);
				$.each(obj, function(i, item) {
					sessionStorage.setItem('currentQuestionId',item.id);
					$('#question_holder').html('<div class="center bigEntrance" id="'+item.id+'" ><img src="img/question_mark_512x512.png" style="width:60px; height: 60px; position: absolute; top: 0px; left: 130px" /><h2  class="col s8 offset-s2 center z-depth-1"><span style="color:white; padding: 50px">Q : '+item.question+' ?</span></h2></div>');
					$('#answers_holder').empty();
					//var random = Math.floor((Math.random() * 3) + 1);
					var myArray = [item.answer1, item.answer2, item.answer3];    
					var rand1 = myArray[Math.floor(Math.random() * myArray.length)];
					sessionStorage.setItem('rand1',rand1);
					
					var i = myArray.indexOf(rand1);
					if(i != -1) {
						myArray.splice(i, 1);
					}
					
					var rand2 = myArray[Math.floor(Math.random() * myArray.length)];
					sessionStorage.setItem('rand2',rand2);
					
					var i = myArray.indexOf(rand2);
					if(i != -1) {
						myArray.splice(i, 1);
					}
					
					var rand3 = myArray[Math.floor(Math.random() * myArray.length)];
					sessionStorage.setItem('rand3',rand3);
					
					/*alert(rand1);
						alert(rand2);
					alert(rand3);*/
					//alert(rand);
					
					setTimeout(function hello() {
						$('#answers_holder').append('<div class="row center"><a class="waves-effect waves-light btn slideRight" id="a1">  <span class="left" >1 &nbsp - &nbsp </span> '+rand1+'</a></div>');
					}, 1000);
					setTimeout(function hello() {
						$('#answers_holder').append('<div class="row center"><a class="waves-effect waves-light btn slideRight" id="a2">  <span class="left" >2 &nbsp - &nbsp </span> '+rand2+'</a></div>');
					}, 1500);
					setTimeout(function hello() {
						$('#answers_holder').append('<div class="row center"><a class="waves-effect waves-light btn slideRight" id="a3">  <span class="left" >3 &nbsp - &nbsp </span> '+rand3+'</a></div>');
					}, 2000);
				})
			});
		</script>
		
		<script>
			var gen = 1;
			
			var id = setInterval(function(){
				
				$.get('http://localhost/SmartTestWebservices/getDisplayedQuestion.php', function(data) {
					var obj = jQuery.parseJSON(data);
					var currentQuestion = sessionStorage.getItem('currentQuestionId');
					var rand1 = '';
					var rand2 = '';
					var rand3 = '';
					$.each(obj, function(i, item) {
						if(item.id == currentQuestion){
							}else{
							sessionStorage.setItem('currentQuestionId',item.id);
							$('#question_holder').html('<div class="center bigEntrance" id="'+item.id+'" ><img src="img/question_mark_512x512.png" style="width:60px; height: 60px; position: absolute; top: 0px; left: 130px" /><h2  class="col s8 offset-s2 center z-depth-1"><span style="color:white; padding: 50px">Q : '+item.question+' ?</span></h2></div>');							
							$('#answers_holder').empty();
							var myArray = [item.answer1, item.answer2, item.answer3];    
							rand1 = myArray[Math.floor(Math.random() * myArray.length)];
							sessionStorage.setItem('rand1',rand1);
							
							var i = myArray.indexOf(rand1);
							if(i != -1) {
								myArray.splice(i, 1);
							}
							
							rand2 = myArray[Math.floor(Math.random() * myArray.length)];
							sessionStorage.setItem('rand2',rand2);
							
							var i = myArray.indexOf(rand2);
							if(i != -1) {
								myArray.splice(i, 1);
							}
							
							rand3 = myArray[Math.floor(Math.random() * myArray.length)];
							sessionStorage.setItem('rand3',rand3);
							setTimeout(function hello() {
								$('#answers_holder').append('<div class="row center"> <a class="waves-effect waves-light btn slideRight" id="a1"><span class="left" >1 &nbsp - &nbsp </span>'+rand1+'</a></div>');
							}, 1000);
							setTimeout(function hello() {
								$('#answers_holder').append('<div class="row center">  <a class="waves-effect waves-light btn slideRight" id="a2"><span class="left" >2 &nbsp - &nbsp </span>'+rand2+'</a></div>');
							}, 1500);
							setTimeout(function hello() {
								$('#answers_holder').append('<div class="row center">  <a class="waves-effect waves-light btn slideRight" id="a3"><span class="left" >3 &nbsp - &nbsp </span>'+rand3+'</a></div>');
							}, 2000);
						}
						
						if(item.validated == true){
							
							var rnd1 = sessionStorage.getItem('rand1');
							var rnd2 = sessionStorage.getItem('rand2');
							var rnd3 = sessionStorage.getItem('rand3');
							if(item[2] == rnd1){
								$("#a1").css("background-color", "green");
								}else if(item[2] == rnd2){
								$("#a2").css("background-color", "green");
								}else{
								$("#a3").css("background-color", "green");
							}
						}
						
						
					})
				});
				gen++;
			}, 1000 ); // 5000 miliseconds == 5 seconds
		</script>
		
		
		
		
	</body>
</html>																																	